{"title":"构建管理 menorepo","uid":"848e7f65f11be9c581f104a5e89cadaa","slug":"menorepo","date":"2023-12-10T04:00:00.000Z","updated":"2023-12-20T10:37:40.973Z","comments":true,"path":"api/articles/menorepo.json","keywords":null,"cover":null,"content":"<h2 id=\"使用-pnpm-管理-workspace\"><a href=\"#使用-pnpm-管理-workspace\" class=\"headerlink\" title=\"使用 pnpm 管理 workspace\"></a>使用 pnpm 管理 workspace</h2><ol>\n<li><p>下载 pnpm, 安装 father-build</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g pnpm</span><br><span class=\"line\">pnpm i -D father-build</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>启用 pnpm 的 workspace 功能</p>\n<p>根目录下新建 packages 文件夹，该文件夹下管理各个项目仓库。之后在根目录新建 <code>pnpm-workspace.yaml</code> 文件，在文件里指定工作目录，指定代码是</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">packages:</span></span><br><span class=\"line\"> <span class=\"bullet\">-</span> <span class=\"string\">&#x27;packages/*&#x27;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>使用 changesets 管理版本</p>\n</li>\n</ol>\n<ul>\n<li><p>安装 changesets 并初始化</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pnpm add -D @changesets/cli</span><br><span class=\"line\">pnpm changeset init</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>使用 changesets</p>\n<p>首先在 <code>package.json</code> 文件中添加下方语句</p>\n  <figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;changeset&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;changeset&quot;</span></span><br><span class=\"line\"><span class=\"attr\">&quot;version-packages&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;changeset version&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>之后需要管理版本时按先后顺序执行这两个命令即可</p>\n</li>\n</ul>\n","feature":true,"text":"使用 pnpm 管理 workspace 下载 pnpm, 安装 father-build 12npm install -g pnpmpnpm i -D fat...","permalink":"/post/menorepo","photos":[],"count_time":{"symbolsCount":505,"symbolsTime":"1 mins."},"categories":[{"name":"前端技术","slug":"前端技术","count":3,"path":"api/categories/前端技术.json"}],"tags":[{"name":"pnpm","slug":"pnpm","count":1,"path":"api/tags/pnpm.json"},{"name":"menorepo","slug":"menorepo","count":1,"path":"api/tags/menorepo.json"},{"name":"changesets","slug":"changesets","count":1,"path":"api/tags/changesets.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8-pnpm-%E7%AE%A1%E7%90%86-workspace\"><span class=\"toc-text\">使用 pnpm 管理 workspace</span></a></li></ol>","author":{"name":"Carlos Lee","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"飞书小组件开发总结","uid":"2e99a752c54d149ce68a60b00d3f322d","slug":"feishu","date":"2023-12-18T06:00:00.000Z","updated":"2023-12-21T08:57:30.190Z","comments":true,"path":"api/articles/feishu.json","keywords":null,"cover":null,"text":"开发文档1. 快速上手准备开发工作台小组件概述 - 开发指南 - 开发文档 - 飞书开放平台 这个文档是开始准备开发需要看的，包括了开发前的一些准备工作，比如前...","permalink":"/post/feishu","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"前端技术","slug":"前端技术","count":3,"path":"api/categories/前端技术.json"}],"tags":[{"name":"飞书平台","slug":"飞书平台","count":1,"path":"api/tags/飞书平台.json"},{"name":"工作台小组件","slug":"工作台小组件","count":1,"path":"api/tags/工作台小组件.json"}],"author":{"name":"Carlos Lee","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"npm 包开发流程","uid":"642d5527a23c1a254ea2226d6952428e","slug":"npm-package","date":"2023-12-01T10:03:07.000Z","updated":"2023-12-20T10:09:10.426Z","comments":true,"path":"api/articles/npm-package.json","keywords":null,"cover":null,"text":"Eslint、stylelint配置包开发编写对应依赖配置的npm包，之后发版到公司私有仓库下，由其他项目下载引入使用。公司统一npm包配置流程： 设置npm镜...","permalink":"/post/npm-package","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"前端技术","slug":"前端技术","count":3,"path":"api/categories/前端技术.json"}],"tags":[{"name":"npm","slug":"npm","count":1,"path":"api/tags/npm.json"},{"name":"eslint","slug":"eslint","count":1,"path":"api/tags/eslint.json"},{"name":"stylelint","slug":"stylelint","count":1,"path":"api/tags/stylelint.json"}],"author":{"name":"Carlos Lee","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}